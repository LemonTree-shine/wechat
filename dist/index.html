<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="http://res.wx.qq.com/open/js/jweixin-1.4.0.js"></script>
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
</head>
<body>
    <button>点我点我点我</button>
</body>
<script>
    $.ajax({
        url: "http://www.xiaogangji.com/signture",
        success: function (res) {
            wx.config({
                debug: true,
                appId: 'wx4eb1112f459e56f2',
                timestamp: res.timestamp,
                nonceStr: res.nonceStr,
                signature: res.signture,
                jsApiList: [
                    'checkJsApi',
                    'onMenuShareTimeline',
                    'onMenuShareAppMessage',
                    'onMenuShareQQ',
                    'updateTimelineShareData',
                    "scanQRCode",
                    "onMenuShareWeibo"
                ]
            });
            wx.ready(function () {      //需在用户可能点击分享按钮前就先调用
                wx.updateTimelineShareData({title: 'chenze', // 分享标题
                    desc: 'nihaoa', // 分享描述
                    link: 'http://www.xiaogangji.com/text.html', // 分享链接，该链接域名或路径必须与当前页面对应的公众号JS安全域名一致
                    imgUrl: 'http://www.xiaogangji.com/1.png', // 分享图标
                },function(res){

                });
            });

            document.querySelector("button").onclick = function(){
                wx.onMenuShareWeibo({
                    title: 'asdasd', // 分享标题
                    desc: 'asdasd', // 分享描述
                    link: 'asdasd', // 分享链接
                    imgUrl: 'asdasda', // 分享图标
                    success: function () {
                    // 用户确认分享后执行的回调函数
                    },
                    cancel: function () {
                    // 用户取消分享后执行的回调函数
                    }
                    });
            };
        }
    });
</script>

</html>